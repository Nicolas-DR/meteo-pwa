<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="keywords" content="HTML, CSS, JavaScript">
    <meta name="author" content="Nicolas De Roose">
    <meta name="description" content="PWA météo pour le cours de monsieur Lemal 2020-21">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/bootstrap.min.css">
    <link rel="stylesheet" href="./css/style.css">
    <link rel="icon" type="image/png" href="img/favicon.png" />

    <meta name="theme-color" content="#317EFB">
	<link rel="icon" sizes="512x512" href="img/icon.png">
	<link rel="manifest" href="/manifest.json">
	<!-- reuse same icon for Safari -->
	<link rel="apple-touch-icon" href="img/icon.png">
  
	<!-- multiple icons for IE -->
	<meta name="msapplication-square310x310logo" content="img/icon.png">
	<link rel="apple-touch-icon" href="img/icon.png">
	<meta name="msapplication-square70x70logo" content="img/icon.png">
	<meta name="msapplication-square150x150logo" content="img/icon.png">
	<meta name="msapplication-wide310x150logo" content="img/icon.png">
    <!-- icon in the highest resolution we need it for -->
    
    <title>Meteo</title>
</head>
<body>
    <div class="menu">
    
    <button id="togg0" class="btn btn-dark btn-sm">Aujourd'hui</button>
    <button id="togg1" class="btn btn-dark btn-sm"></button>
    <button id="togg2" class="btn btn-dark btn-sm"></button>
    <button id="togg3" class="btn btn-dark btn-sm"></button>
    <button id="togg4" class="btn btn-dark btn-sm"></button>
    
    <label for="villemenu"><input id="villemenu" class="form-control form-meteo form-control-lg" type="text" placeholder=""></label>
    <button class="btn btn-dark btn-sm reset">Reset</button>
    <button id="btnAdd" class="btn btn-dark btn-sm">PWA</button></div>

<div class="haut"><h1>Météo de </h1></div>




    <div class="contenu" id="d0">
        <div class="container-fluid">
        <div class="row">
        <div class="col12 day0">
        <div class="daycurrent">
            <h2>Aujourd'hui <div class="date"></div></h2>
            <p class="condition2"></p>
            <div class="temperature"></div>
            <div id="img" class=""></div>
        </div>
        </div>
        </div>
        </div>
    </div>
    <div class="contenu" id="d1">
            <div class="container-fluid">
                <div class="row">
                    <div class="col12 day1">
                        <h2><div class="date"></div></h2>
                        <p class="condition2"></p>
                        <div class="temperaturemaxmin"></div>
                        <div id="img" class=""></div>
                    </div>
                </div>
            </div>
    </div>
    <div class="contenu" id="d2">
            <div class="container-fluid">
                <div class="row">
                    <div class="col12 day2">
                        <h2><div class="date"></div></h2>
                        <p class="condition2"></p>
                        <div class="temperaturemaxmin"></div>
                        <div id="img" class=""></div>
                    </div>
                </div>
            </div>
    </div>
    <div class="contenu" id="d3">
            <div class="container-fluid">
                <div class="row">
                    <div class="col12 day3">
                        <h2><div class="date"></div></h2>
                        <p class="condition2"></p>
                        <div class="temperaturemaxmin"></div>
                        <div id="img" class=""></div>
                    </div>
                </div>
            </div>
    </div>
    <div class="contenu" id="d4">
            <div class="container-fluid">
                <div class="row">
                    <div class="col12 day4">
                        <h2><div class="date"></div></h2>
                        <p class="condition2"></p>
                        <div class="temperaturemaxmin"></div>
                        <div id="img" class=""></div>
                    </div>
                </div>
            </div>
    </div>
    



    
        
<div id="img" class=""></div>

<div id="maison"></div>
<div id="arbre"></div>
<!--<div id="cadre"></div>-->

<script src="sw.js"></script>
<script>
  
  if('serviceWorker' in navigator) {
    navigator.serviceWorker
             .register('/sw.js')
             .then(function() { console.log("Service Worker Registered"); });
  }


  // fonction qui check si appli installable
  window.addEventListener('beforeinstallprompt', (e) => {
      console.log("beforeinstallprompt");
  // Stash the event so it can be triggered later.
  deferredPrompt = e;
  // Update UI notify the user they can add to home screen
  showInstallPromotion();

});

function  showInstallPromotion() {
//  alert("ok on peut installer");

 $('#btnAdd').removeClass('d-none');

}

var btnAdd = document.getElementById("btnAdd");

btnAdd.addEventListener('click', (e) => {
// hide our user interface that shows our A2HS button
btnAdd.style.display = 'none';
// Show the prompt
deferredPrompt.prompt();
// Wait for the user to respond to the prompt
deferredPrompt.userChoice
  .then((choiceResult) => {
    if (choiceResult.outcome === 'accepted') {
      console.log('User accepted the A2HS prompt');
    } else {
      console.log('User dismissed the A2HS prompt');
    }
    deferredPrompt = null;
  });
});
 
   
</script>
<script src="js/jquery-3.5.1.min.js"></script>
<script src="./js/scripts.js"></script>
</body>
</html>